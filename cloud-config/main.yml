- type: replace
  path: /networks/-
  value:
    name: default
    type: manual
    subnets:
    - az: z1
      range: ((terraform_outputs.private_subnet_cidr_az1))
      gateway: ((terraform_outputs.private_subnet_gateway_az1))
      reserved:
      - ((terraform_outputs.private_subnet_reserved_az1))
      - ((terraform_outputs.bosh_static_ip))
      dns: [((terraform_outputs.vpc_cidr_dns))]
      cloud_properties:
        subnet: ((terraform_outputs.private_subnet_az1))
        security_groups:
        - ((terraform_outputs.bosh_security_group))
    - az: z2
      range: ((terraform_outputs.private_subnet_cidr_az2))
      gateway: ((terraform_outputs.private_subnet_gateway_az2))
      reserved:
      - ((terraform_outputs.private_subnet_reserved_az2))
      dns: [((terraform_outputs.vpc_cidr_dns))]
      cloud_properties:
        subnet: ((terraform_outputs.private_subnet_az2))
        security_groups:
        - ((terraform_outputs.bosh_security_group))
- type: replace
  path: /networks/-
  value:
  - name: services
    type: manual
    subnets:
    - az: z1
      range: ((terraform_outputs.services_subnet_cidr_az1))
      gateway: ((terraform_outputs.services_subnet_gateway_az1))
      reserved:
      - ((terraform_outputs.services_subnet_reserved_az1))
      static: ((terraform_outputs.services_static_ips))
      dns: [((terraform_outputs.vpc_cidr_dns))]
      cloud_properties:
        subnet: ((terraform_outputs.services_subnet_az1))
        security_groups:
        - ((terraform_outputs.bosh_security_group))

- type: replace
  path: /vm_types/-
  value:
    name: admin-ui
    cloud_properties:
      instance_type: t2.medium
      ephemeral_disk:
        size: 10240
- type: replace
  path: /vm_types/-
  value:
    name: shibboleth
    cloud_properties:
      instance_type: m3.medium
      ephemeral_disk:
        size: 10240
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_es_master
    cloud_properties:
      instance_type: t2.xlarge
      ephemeral_disk:
        size: 15000
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_es_data
    cloud_properties:
      instance_type: r4.xlarge
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_redis
    cloud_properties:
      instance_type: t2.medium
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_ingestor
    cloud_properties:
      instance_type: r4.large
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_kibana
    cloud_properties:
      instance_type: t2.large
- type: replace
  path: /vm_types/-
  value:
    name: logsearch_maintenance
    cloud_properties:
      instance_type: t2.large
- type: replace
  path: /vm_types/-
  value:
    name: kubernetes_consul
    cloud_properties:
      instance_type: m3.large
- type: replace
  path: /vm_types/-
  value:
    name: kubernetes_etcd
    cloud_properties:
      instance_type: t2.medium
- type: replace
  path: /vm_types/-
  value:
    name: kubernetes_master
    cloud_properties:
      instance_type: m3.large
- type: replace
  path: /vm_types/-
  value:
    name: kubernetes_minion
    cloud_properties:
      instance_type: r4.xlarge
      ephemeral_disk:
        size: 16_000
- type: replace
  path: /vm_types/-
  value:
    name: nfs-volume
    cloud_properties:
      instance_type: m3.large
- type: replace
  path: /vm_types/-
  value:
    name: elasticache-broker
    cloud_properties:
      instance_type: t2.medium
- type: replace
  path: /vm_types/-
  value:
    name: domains-broker
    cloud_properties:
      instance_type: t2.medium

- type: replace
  path: /disk_types/-
  value:
    name: admin-ui
    disk_size: 5120
- type: replace
  path: /disk_types/-
  value:
    name: shibboleth
    disk_size: 4096
- type: replace
  path: /disk_types/-
  value:
    name: logsearch_es_master
    disk_size: 102400
- type: replace
  path: /disk_types/-
  value:
    name: logsearch_es_data
    disk_size: 3_500_000
- type: replace
  path: /disk_types/-
  value:
    name: logsearch_es_platform_data
    disk_size: 3_500_000
- type: replace
  path: /disk_types/-
  value:
    name: logsearch_ingestor
    disk_size: 64_000
- type: replace
  path: /disk_types/-
  value:
    name: logsearch_redis
    disk_size: 4096
- type: replace
  path: /disk_types/-
  value:
    name: kubernetes
    disk_size: 35_000
- type: replace
  path: /disk_types/-
  value:
    name: nfs-volume
    disk_size: 64_000

- type: replace
  path: /vm_extensions/-
  value:
    name: admin-lb
    cloud_properties:
      lb_target_groups:
      - ((terraform_outputs.admin_lb_target_group))
- type: replace
  path: /vm_extensions/-
  value:
    name: shibboleth-lb
    cloud_properties:
      lb_target_groups:
      - ((terraform_outputs.shibboleth_lb_target_group))
- type: replace
  path: /vm_extensions/-
  value:
    name: logsearch-lb
    cloud_properties:
      elbs:
      - ((terraform_outputs.logsearch_elb_name))
- type: replace
  path: /vm_extensions/-
  value:
    name: platform-syslog-lb
    cloud_properties:
      elbs:
      - ((terraform_outputs.platform_syslog_elb_name))
- type: replace
  path: /vm_extensions/-
  value:
    name: platform-kibana-lb
    cloud_properties:
      lb_target_groups:
      - ((terraform_outputs.platform_kibana_lb_target_group))
- type: replace
  path: /vm_extensions/-
  value:
  - name: kubernetes-lb
    cloud_properties:
      elbs:
      - ((terraform_outputs.kubernetes_elb_name))
- type: replace
  path: /vm_extensions/-
  value:
    name: elasticache-broker-lb
    cloud_properties:
      elbs:
      - ((terraform_outputs.elasticache_broker_elb_name))
- type: replace
  path: /vm_extensions/-
  value:
    name: domains-broker-lb
    cloud_properties:
      lb_target_groups:
      - ((terraform_outputs.domains_broker_internal_target_group))
- type: replace
  path: /vm_extensions/-
  value:
    name: kubernetes-sg
    cloud_properties:
      security_groups:
      - ((terraform_outputs.kubernetes_ec2_security_group))
- type: replace
  path: /vm_extensions/-
  value:
    name: logsearch-ingestor-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.logsearch_ingestor_profile))
- type: replace
  path: /vm_extensions/-
  value:
    name: kubernetes-etcd-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.etcd_backup_profile))
- type: replace
  path: /vm_extensions/-
  value:
    name: kubernetes-master-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.kubernetes_master_profile))
- type: replace
  path: /vm_extensions/-
  value:
    name: kubernetes-minion-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.kubernetes_minion_profile))
- type: replace
  path: /vm_extensions/-
  value:
    name: elasticache-broker-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.elasticache_broker_profile))
- type: replace
  path: /vm_extensions/-
  value:
    name: domains-broker-profile
    cloud_properties:
      iam_instance_profile: ((terraform_outputs.domains_broker_profile))

- type: replace
  path: /compilation/network?
  value: default
